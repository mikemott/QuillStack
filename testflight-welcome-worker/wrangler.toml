name = "testflight-welcome-worker"
main = "src/index.ts"
compatibility_date = "2024-01-01"

# Cron trigger - runs every 15 minutes
[triggers]
crons = ["*/15 * * * *"]

# KV namespace for tracking sent emails
# Create with: wrangler kv:namespace create SENT_EMAILS
# Then update the id below with the output
[[kv_namespaces]]
binding = "SENT_EMAILS"
id = "22aa30bbc14548bda301cdb0961a136f"

# Public environment variables
[vars]
APP_STORE_APP_ID = "6757266652"
RESEND_DOMAIN = "quillstack.io"  # Your verified domain in Resend
FROM_EMAIL = "support@quillstack.io"
FROM_NAME = "QuillStack Team"

# Secrets (set via CLI with wrangler secret put):
# - APP_STORE_ISSUER_ID
# - APP_STORE_KEY_ID
# - APP_STORE_PRIVATE_KEY (full .p8 file contents)
# - RESEND_API_KEY
